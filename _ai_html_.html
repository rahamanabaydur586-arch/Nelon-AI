<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>India Knowledge Assistant -- English, Bangla, Hindi</title>
<style>
  body{font-family:Arial, Helvetica, sans-serif;background:#0b1220;color:#fff;display:flex;align-items:center;justify-content:center;height:100vh;margin:0}
  .card{width:720px;background:#0f1724;padding:18px;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,.6)}
  h1{margin:0 0 12px;font-size:20px}
  #chat{height:420px;overflow:auto;background:#071029;padding:12px;border-radius:8px;margin-bottom:12px}
  .msg{margin:10px 0;padding:10px;border-radius:8px;max-width:85%}
  .user{background:#172554;margin-left:auto;text-align:right}
  .bot{background:#e2e8f0;color:#000;text-align:left;white-space:pre-wrap;word-wrap:break-word;}
  .controls{display:flex;gap:8px;margin-bottom:8px}
  input[type=text]{flex:1;padding:10px;border-radius:8px;border:none;font-size:16px;}
  button{padding:10px 12px;border-radius:8px;border:none;background:#2563eb;color:#fff;cursor:pointer;font-size:16px;}
  .note{font-size:12px;opacity:.8;margin-top:8px}
  .hint{font-size:13px;margin-bottom:8px;color:#cbd5e1}
</style>
</head>
<body>
  <div class="card">
    <h1>üáÆüá≥ India Knowledge Assistant (English, ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ, ‡§π‡§ø‡§Ç‡§¶‡•Ä)</h1>
    <div class="hint">‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶ï‡¶•‡ßã‡¶™‡¶ï‡¶•‡¶® ‡¶Æ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡ßá, ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶¶‡ßá‡¶ñ‡¶¨‡ßá, ‡¶§‡¶æ‡¶∞‡¶™‡¶∞ Wikipedia ‡¶•‡ßá‡¶ï‡ßá (proxy)‡•§ GPT ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶Ö‡¶™‡¶∂‡¶® ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§</div>
    <div id="chat"></div>

    <div style="display:flex;gap:8px;margin-top:8px">
      <input id="input" type="text" placeholder="Ask about India -- English, ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ, ‡§π‡§ø‡§Ç‡§¶‡•Ä/‡¶π‡¶ø‡¶Ç‡¶≤‡¶ø‡¶∂..." autocomplete="off" />
      <button id="ask">Ask</button>
    </div>

    <div class="note">
      ‡¶®‡ßã‡¶ü: ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá CORS ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶è‡ßú‡¶æ‡¶§‡ßá Wikipedia fetch-‡¶è proxy ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§
    </div>
  </div>

<script>
const chat = document.getElementById('chat');
const input = document.getElementById('input');
const askBtn = document.getElementById('ask');
let history = [];

// ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ India knowledge (English, Bangla, Hindi mixed)
const IndiaKB = {
  "india_overview": `India (‡¶≠‡¶æ‡¶∞‡¶§) is a country in South Asia. It is the seventh-largest country by area and the second-most populous country in the world‡•§ It is known for its diversity of languages, cultures, religions, and geography. ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡¶∞‡¶ó‡ßÅ‡¶≤‡¶ø: IT, Bollywood, ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶® ‡¶ì ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø, ‡¶ï‡ßÉ‡¶∑‡¶ø, ‡¶è‡¶¨‡¶Ç ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∂‡¶æ‡¶≤‡ßÄ ‡¶ó‡¶£‡¶§‡¶æ‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶ø‡¶ï ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶®‡•§ ‡¶≠‡¶æ‡¶∞‡¶§‡ßá‡¶∞ ‡¶Ö‡¶∞‡ßç‡¶•‡¶®‡ßÄ‡¶§‡¶ø ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡ßá‡¶∞ ‡¶§‡ßÉ‡¶§‡ßÄ‡ßü ‡¶¨‡ßÉ‡¶π‡¶§‡ßç‡¶§‡¶Æ ‡¶è‡¶¨‡¶Ç ‡¶è‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶â‡¶®‡ßç‡¶®‡¶Ø‡¶º‡¶®‡¶∂‡ßÄ‡¶≤ ‡¶Ö‡¶∞‡ßç‡¶•‡¶®‡ßÄ‡¶§‡¶ø‡•§`,

  "capital": `New Delhi ‡¶π‡¶≤‡ßã ‡¶≠‡¶æ‡¶∞‡¶§‡ßá‡¶∞ ‡¶∞‡¶æ‡¶ú‡¶ß‡¶æ‡¶®‡ßÄ (‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§∞‡§æ‡§ú‡§ß‡§æ‡§®‡•Ä)‡•§ ‡¶è‡¶ü‡¶ø ‡¶≠‡¶æ‡¶∞‡¶§‡ßá‡¶∞ ‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßç‡¶∞ ‡¶∂‡¶æ‡¶∏‡¶® ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡ßç‡¶∞‡¶Æ‡ßá‡¶∞ ‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßç‡¶∞‡¶¨‡¶ø‡¶®‡ßç‡¶¶‡ßÅ‡•§`,

  "currency": `‡¶≠‡¶æ‡¶∞‡¶§‡ßá‡¶∞ ‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞‡¶æ ‡¶π‡¶≤‡ßã Indian Rupee (‚Çπ) -- INR‡•§ ‡¶è‡¶ü‡¶ø ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶è‡¶ï‡¶ï ‡¶Ö‡¶∞‡ßç‡¶•‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡•§`,

  "languages": `India has many languages. ‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞‡¶ø ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶π‡¶≤‡ßã Hindi ‡¶ì English; ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶∞‡¶æ‡¶ú‡ßç‡¶Ø‡ßá ‡¶∞‡ßü‡ßá‡¶õ‡ßá Bengali, Tamil, Telugu, Marathi, Gujarati, Kannada, Malayalam, Punjabi, Odia, Assamese ‡¶∏‡¶π ‡¶Ü‡¶∞‡¶ì ‡¶Ö‡¶®‡ßá‡¶ï ‡¶≠‡¶æ‡¶∑‡¶æ‡•§ ‡¶Æ‡ßã‡¶ü ‡ß®‡ß®‡¶ü‡¶ø ‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶∏‡ßç‡¶¨‡ßÄ‡¶ï‡ßÉ‡¶§ ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶Ü‡¶õ‡ßá‡•§`,

  "independence": `India ‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶®‡¶§‡¶æ ‡¶™‡ßá‡ßü‡ßá‡¶õ‡¶ø‡¶≤ ‡ßß‡ß´ ‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü ‡ßß‡ßØ‡ß™‡ß≠ ‡¶∏‡¶æ‡¶≤‡ßá, ‡¶¨‡ßç‡¶∞‡¶ø‡¶ü‡¶ø‡¶∂ ‡¶∂‡¶æ‡¶∏‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§‡¶ø ‡¶≤‡¶æ‡¶≠ ‡¶ï‡¶∞‡ßá‡•§`,

  "constitution": `‡¶≠‡¶æ‡¶∞‡¶§‡ßá‡¶∞ ‡¶∏‡¶Ç‡¶¨‡¶ø‡¶ß‡¶æ‡¶® ‡¶ó‡ßÉ‡¶π‡ßÄ‡¶§ ‡¶π‡¶Ø‡¶º ‡ß®‡ß¨ ‡¶ú‡¶æ‡¶®‡ßÅ‡ßü‡¶æ‡¶∞‡¶ø ‡ßß‡ßØ‡ß´‡ß¶ (Republic Day)‡•§ ‡¶è‡¶ü‡¶ø ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡ßá‡¶∞ ‡¶¨‡ßÉ‡¶π‡¶§‡ßç‡¶§‡¶Æ ‡¶≤‡¶ø‡¶ñ‡¶ø‡¶§ ‡¶∏‡¶Ç‡¶¨‡¶ø‡¶ß‡¶æ‡¶®‡•§`,

  "population_note": `India-‡¶è‡¶∞ ‡¶ú‡¶®‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡ßß.‡ß™ ‡¶¨‡¶ø‡¶≤‡¶ø‡¶Ø‡¶º‡¶®‡ßá‡¶∞‡¶ì ‡¶¨‡ßá‡¶∂‡¶ø, ‡¶Ø‡¶æ ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡ßá ‡¶¶‡ßç‡¶¨‡¶ø‡¶§‡ßÄ‡¶Ø‡¶º ‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö‡•§ ‡¶ú‡¶®‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶¨‡ßÉ‡¶¶‡ßç‡¶ß‡¶ø‡¶∞ ‡¶π‡¶æ‡¶∞ ‡¶ß‡ßÄ‡¶∞‡ßá ‡¶ß‡ßÄ‡¶∞‡ßá ‡¶ï‡¶Æ‡¶õ‡ßá‡•§`,

  "famous_people": `‡¶Æ‡¶π‡¶æ‡¶§‡ßç‡¶Æ‡¶æ ‡¶ó‡¶æ‡¶®‡ßç‡¶ß‡ßÄ (‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶®‡¶§‡¶æ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßÄ), ‡¶∞‡¶¨‡ßÄ‡¶®‡ßç‡¶¶‡ßç‡¶∞‡¶®‡¶æ‡¶• ‡¶†‡¶æ‡¶ï‡ßÅ‡¶∞ (‡¶ï‡¶¨‡¶ø ‡¶ì ‡¶®‡¶æ‡¶ü‡ßç‡¶Ø‡¶ï‡¶æ‡¶∞), ‡¶∏‡¶ø ‡¶≠‡¶ø ‡¶∞‡¶æ‡¶Æ‡¶® (‡¶®‡ßã‡¶¨‡ßá‡¶≤ ‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º‡ßÄ ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®‡ßÄ), ‡¶è ‡¶™‡¶ø ‡¶ú‡ßá ‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶≤ ‡¶ï‡¶æ‡¶≤‡¶æ‡¶Æ (‡¶™‡ßç‡¶∞‡¶æ‡¶ï‡ßç‡¶§‡¶® ‡¶∞‡¶æ‡¶∑‡ßç‡¶ü‡ßç‡¶∞‡¶™‡¶§‡¶ø ‡¶ì ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®‡ßÄ), ‡¶á‡¶®‡ßç‡¶¶‡¶ø‡¶∞‡¶æ ‡¶ó‡¶æ‡¶®‡ßç‡¶ß‡ßÄ (‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶Æ‡¶π‡¶ø‡¶≤‡¶æ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶§‡ßç‡¶∞‡ßÄ), ‡¶∏‡¶§‡ßÄ‡¶∂ ‡¶ß‡¶æ‡¶ì‡ßü‡¶æ‡¶® (‡¶∏‡ßç‡¶™‡ßá‡¶∏ ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®‡ßÄ) ‡¶∏‡¶π ‡¶Ö‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø ‡¶¨‡¶ø‡¶ñ‡ßç‡¶Ø‡¶æ‡¶§ ‡¶≠‡¶æ‡¶∞‡¶§‡ßÄ‡¶Ø‡¶º‡•§`,

  "it_industry": `Bengaluru, Hyderabad, Pune ‡¶∂‡¶π‡¶∞‡¶ó‡ßÅ‡¶≤‡ßã ‡¶≠‡¶æ‡¶∞‡¶§‡ßÄ‡¶Ø‡¶º IT ‡¶∂‡¶ø‡¶≤‡ßç‡¶™‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßç‡¶∞‡•§ ‡¶≠‡¶æ‡¶∞‡¶§‡ßá‡¶∞ IT ‡¶∏‡ßá‡¶ï‡ßç‡¶ü‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡ßá‡¶∞ ‡¶¨‡ßÉ‡¶π‡¶§‡ßç‡¶§‡¶Æ‰πã‰∏Ä‡•§ Infosys, TCS, Wipro ‡¶∏‡¶π ‡¶¨‡¶°‡¶º ‡¶¨‡¶°‡¶º ‡¶ï‡ßã‡¶Æ‡ßç‡¶™‡¶æ‡¶®‡¶ø‡¶ó‡ßÅ‡¶≤‡ßã ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶õ‡ßá‡•§`,

  "education": `‡¶≠‡¶æ‡¶∞‡¶§‡ßá ‡¶Ö‡¶®‡ßá‡¶ï ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º ‡¶ì ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶Ü‡¶õ‡ßá, ‡¶Ø‡ßá‡¶Æ‡¶® IIT (Indian Institutes of Technology), IIM (Indian Institutes of Management), AIIMS, ‡¶è‡¶¨‡¶Ç ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßç‡¶∞‡ßÄ‡¶Ø‡¶º ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º‡¶ó‡ßÅ‡¶≤‡ßã‡•§ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶Æ‡¶æ‡¶®‡ßá‡¶∞‡•§`,

  "geography": `‡¶≠‡¶æ‡¶∞‡¶§ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßÉ‡¶π‡ßé ‡¶â‡¶™‡¶Æ‡¶π‡¶æ‡¶¶‡ßá‡¶∂, ‡¶Ø‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶Ü‡¶õ‡ßá ‡¶™‡¶æ‡¶π‡¶æ‡¶°‡¶º, ‡¶∏‡¶Æ‡¶§‡¶≤ ‡¶≠‡ßÇ‡¶Æ‡¶ø, ‡¶Æ‡¶∞‡ßÅ‡¶≠‡ßÇ‡¶Æ‡¶ø, ‡¶®‡¶¶‡ßÄ ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞‡¶∏‡ßà‡¶ï‡¶§‡•§ ‡¶π‡¶ø‡¶Æ‡¶æ‡¶≤‡¶Ø‡¶º ‡¶™‡¶∞‡ßç‡¶¨‡¶§‡¶Æ‡¶æ‡¶≤‡¶æ ‡¶â‡¶§‡ßç‡¶§‡¶∞‡ßá ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶ø‡¶§ ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶ô‡ßç‡¶ó‡ßã‡¶™‡¶∏‡¶æ‡¶ó‡¶∞ ‡¶¶‡¶ï‡ßç‡¶∑‡¶ø‡¶£‡ßá‡•§ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶®‡¶¶‡ßÄ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶π‡¶≤‡ßã ‡¶ó‡¶ô‡ßç‡¶ó‡¶æ, ‡¶Ø‡¶Æ‡ßÅ‡¶®‡¶æ, ‡¶¨‡ßç‡¶∞‡¶π‡ßç‡¶Æ‡¶™‡ßÅ‡¶§‡ßç‡¶∞, ‡¶è‡¶¨‡¶Ç ‡¶á‡¶®‡ßç‡¶¶‡¶æ‡¶∏‡•§`,

  "government": `‡¶≠‡¶æ‡¶∞‡¶§ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ó‡¶£‡¶§‡¶æ‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶ø‡¶ï ‡¶¶‡ßá‡¶∂ ‡¶Ø‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶∏‡¶Ç‡¶∏‡¶¶‡ßÄ‡¶Ø‡¶º ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶∞‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡•§ ‡¶∞‡¶æ‡¶∑‡ßç‡¶ü‡ßç‡¶∞‡¶™‡¶§‡¶ø ‡¶π‡¶≤‡ßã ‡¶∞‡¶æ‡¶∑‡ßç‡¶ü‡ßç‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶§‡ßç‡¶∞‡ßÄ ‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶®‡•§ ‡¶∞‡¶æ‡¶ú‡ßç‡¶Ø‡¶ó‡ßÅ‡¶≤‡ßã ‡¶®‡¶ø‡¶ú‡ßá‡¶¶‡ßá‡¶∞ ‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶ö‡¶æ‡¶≤‡¶®‡¶æ ‡¶ï‡¶∞‡ßá‡•§`,

  "culture": `‡¶≠‡¶æ‡¶∞‡¶§‡ßá‡¶∞ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡ßÉ‡¶§‡¶ø ‡¶¨‡¶π‡ßÅ ‡¶™‡ßç‡¶∞‡¶æ‡¶ö‡ßÄ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶¨‡ßà‡¶ö‡¶ø‡¶§‡ßç‡¶∞‡ßç‡¶Ø‡¶Æ‡¶Ø‡¶º‡•§ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶ß‡¶∞‡ßç‡¶Æ‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑ ‡¶¨‡¶æ‡¶∏ ‡¶ï‡¶∞‡ßá, ‡¶Ø‡ßá‡¶Æ‡¶® ‡¶π‡¶ø‡¶®‡ßç‡¶¶‡ßÅ, ‡¶Æ‡ßÅ‡¶∏‡¶≤‡¶ø‡¶Æ, ‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶®, ‡¶∏‡¶ø‡¶ñ, ‡¶¨‡ßå‡¶¶‡ßç‡¶ß ‡¶ì ‡¶ú‡ßà‡¶® ‡¶ß‡¶∞‡ßç‡¶Æ‡¶æ‡¶¨‡¶≤‡¶Æ‡ßç‡¶¨‡ßÄ‡•§ ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶â‡ßé‡¶∏‡¶¨ ‡¶Ø‡ßá‡¶Æ‡¶® ‡¶¶‡ßÄ‡¶™‡¶æ‡¶¨‡¶≤‡¶ø, ‡¶à‡¶¶, ‡¶ï‡ßç‡¶∞‡¶ø‡¶∏‡¶Æ‡¶æ‡¶∏, ‡¶™‡ßã‡¶π‡ßá‡¶≤‡¶æ ‡¶¨‡ßà‡¶∂‡¶æ‡¶ñ ‡¶â‡¶¶‡¶Ø‡¶æ‡¶™‡¶ø‡¶§ ‡¶π‡ßü‡•§ ‡¶≠‡¶æ‡¶∞‡¶§‡ßÄ‡¶Ø‡¶º ‡¶∏‡¶ô‡ßç‡¶ó‡ßÄ‡¶§, ‡¶®‡ßÉ‡¶§‡ßç‡¶Ø, ‡¶∏‡¶æ‡¶π‡¶ø‡¶§‡ßç‡¶Ø, ‡¶è‡¶¨‡¶Ç ‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡¶ø‡¶ñ‡ßç‡¶Ø‡¶æ‡¶§‡•§`,

  "economy": `‡¶≠‡¶æ‡¶∞‡¶§‡ßá‡¶∞ ‡¶Ö‡¶∞‡ßç‡¶•‡¶®‡ßÄ‡¶§‡¶ø ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡ßá‡¶∞ ‡¶Ö‡¶®‡ßç‡¶Ø‡¶§‡¶Æ ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶¨‡¶∞‡ßç‡¶ß‡¶®‡¶∂‡ßÄ‡¶≤ ‡¶Ö‡¶∞‡ßç‡¶•‡¶®‡ßÄ‡¶§‡¶ø‡•§ ‡¶ï‡ßÉ‡¶∑‡¶ø, ‡¶∂‡¶ø‡¶≤‡ßç‡¶™, ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßá‡¶¨‡¶æ ‡¶ñ‡¶æ‡¶§ ‡¶è‡¶∞ ‡¶Æ‡ßÇ‡¶≤ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡•§ ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø, ‡¶´‡¶æ‡¶∞‡ßç‡¶Æ‡¶æ‡¶∏‡¶ø‡¶â‡¶ü‡¶ø‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤, ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü‡¶æ‡¶á‡¶≤, ‡¶ö‡¶≤‡¶ö‡ßç‡¶ö‡¶ø‡¶§‡ßç‡¶∞, ‡¶ì ‡¶™‡¶∞‡¶ø‡¶¨‡¶π‡¶® ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡¶∞ ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨ ‡¶¨‡¶π‡¶® ‡¶ï‡¶∞‡ßá‡•§`,

  "tourism": `‡¶§‡¶æ‡¶ú ‡¶Æ‡¶π‡¶≤, ‡¶ó‡ßã‡¶Ø‡¶º‡¶æ, ‡¶∞‡¶æ‡¶ú‡¶∏‡ßç‡¶•‡¶æ‡¶®, ‡¶ï‡¶æ‡¶∂‡ßç‡¶Æ‡ßÄ‡¶∞, ‡¶≠‡¶æ‡¶∞‡¶§‡ßÄ‡¶Ø‡¶º ‡¶¨‡¶®‡ßç‡¶Ø‡¶™‡ßç‡¶∞‡¶æ‡¶£‡ßÄ ‡¶Ö‡¶≠‡¶Ø‡¶º‡¶æ‡¶∞‡¶£‡ßç‡¶Ø ‡¶è‡¶¨‡¶Ç ‡¶π‡¶ø‡¶Æ‡¶æ‡¶≤‡¶Ø‡¶º‡ßá‡¶∞ ‡¶≠‡¶ø‡¶â ‡¶™‡¶∞‡ßç‡¶Ø‡¶ü‡¶ï‡¶¶‡ßá‡¶∞ ‡¶Ü‡¶ï‡¶∞‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßá‡•§ ‡¶≠‡¶æ‡¶∞‡¶§ ‡¶∏‡¶æ‡¶Ç‡¶∏‡ßç‡¶ï‡ßÉ‡¶§‡¶ø‡¶ï ‡¶ì ‡¶ê‡¶§‡¶ø‡¶π‡¶æ‡¶∏‡¶ø‡¶ï ‡¶∏‡ßç‡¶•‡¶æ‡¶®‡¶ó‡ßÅ‡¶≤‡ßã‡ßü ‡¶≠‡¶∞‡¶™‡ßÅ‡¶∞‡•§`,

  "sports": `‡¶ï‡ßç‡¶∞‡¶ø‡¶ï‡ßá‡¶ü ‡¶≠‡¶æ‡¶∞‡¶§‡ßá‡¶∞ ‡¶∏‡¶¨‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ñ‡ßá‡¶≤‡¶æ‡•§ ‡¶è‡¶õ‡¶æ‡¶°‡¶º‡¶æ ‡¶´‡ßÅ‡¶ü‡¶¨‡¶≤, ‡¶π‡¶ï‡¶ø, ‡¶¨‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®‡ßç‡¶ü‡¶®, ‡¶ü‡ßá‡¶®‡¶ø‡¶∏ ‡¶ì ‡¶ï‡¶æ‡¶¨‡¶æ‡¶°‡¶ø ‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡•§ ‡¶≠‡¶æ‡¶∞‡¶§‡ßá‡¶∞ ‡¶¨‡¶π‡ßÅ ‡¶ñ‡ßá‡¶≤‡ßã‡¶Ø‡¶º‡¶æ‡¶°‡¶º ‡¶Ü‡¶®‡ßç‡¶§‡¶∞‡ßç‡¶ú‡¶æ‡¶§‡¶ø‡¶ï ‡¶∏‡ßç‡¶§‡¶∞‡ßá ‡¶∏‡¶´‡¶≤‡•§`,

  "transport": `‡¶≠‡¶æ‡¶∞‡¶§‡ßá ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡ßÄ‡¶∞‡ßç‡¶£ ‡¶∞‡ßá‡¶≤‡¶™‡¶• ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶Ü‡¶õ‡ßá ‡¶Ø‡¶æ ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡ßá‡¶∞ ‡¶¨‡ßÉ‡¶π‡¶§‡ßç‡¶§‡¶Æ ‡¶∞‡ßá‡¶≤ ‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶è‡¶ï‡¶ü‡¶ø‡•§ ‡¶¨‡¶ø‡¶Æ‡¶æ‡¶® ‡¶ì ‡¶∏‡¶°‡¶º‡¶ï ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§ ‡¶Æ‡ßá‡¶ü‡ßç‡¶∞‡ßã ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶Ö‡¶®‡ßá‡¶ï ‡¶∂‡¶π‡¶∞‡ßá ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§`,

  "flag": `‡¶≠‡¶æ‡¶∞‡¶§‡ßá‡¶∞ ‡¶™‡¶§‡¶æ‡¶ï‡¶æ ‡¶§‡¶ø‡¶®‡¶ü‡¶ø ‡¶∞‡¶ô‡ßá‡¶∞: ‡¶∂‡ßÄ‡¶∞‡ßç‡¶∑‡ßá ‡¶ó‡¶≠‡ßÄ‡¶∞ ‡¶ï‡¶Æ‡¶≤‡¶æ, ‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶®‡ßá ‡¶∏‡¶æ‡¶¶‡¶æ, ‡¶®‡ßÄ‡¶ö‡ßá ‡¶∏‡¶¨‡ßÅ‡¶ú‡•§ ‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶®‡ßá ‡¶®‡ßÄ‡¶≤ ‡¶∞‡¶ô‡ßá‡¶∞ ‡¶ö‡¶ï‡ßç‡¶∞ (‡¶Ö‡¶∂‡ßã‡¶ï ‡¶ö‡¶ï‡ßç‡¶∞), ‡¶Ø‡¶æ ‡¶Ö‡¶∞‡ßç‡¶• ‡¶®‡ßÄ‡¶§‡¶ø ‡¶ì ‡¶Ö‡¶ó‡ßç‡¶∞‡¶ó‡¶§‡¶ø‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡ßÄ‡¶ï‡•§`
};

function append(role, text){
  const d = document.createElement('div');
  d.className = 'msg ' + (role==='user' ? 'user' : 'bot');
  d.innerText = text;
  chat.appendChild(d);
  chat.scrollTop = chat.scrollHeight;
}

// ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶∏‡¶®‡¶æ‡¶ï‡ßç‡¶§‡¶ï‡¶∞‡¶£: ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ, ‡¶π‡¶ø‡¶®‡ßç‡¶¶‡¶ø/‡¶π‡¶ø‡¶Ç‡¶≤‡¶ø‡¶∂, ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø
function detectLang(text){
  if(/[\u0980-\u09FF]/.test(text)) return 'bn'; // Bengali
  if(/[‡§Ä-‡•ø]/.test(text) || /[a-zA-Z]/.test(text) && /[aAiIuUeEoO]/.test(text)) return 'hi'; // Hindi/hinglish approx
  return 'en';
}

// ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ
function queryLocalKB(q){
  q = q.toLowerCase();
  if(q.includes('capital') || q.includes('‡¶∞‡¶æ‡¶ú‡¶ß‡¶æ‡¶®‡ßÄ') || q.includes('‡§∞‡§æ‡§ú‡§ß‡§æ‡§®‡•Ä')) return IndiaKB.capital;
  if(q.includes('currency') || q.includes('‡¶ü‡¶æ‡¶ï‡¶æ') || q.includes('‡§Æ‡•Å‡§¶‡•ç‡§∞‡§æ') || q.includes('‡¶∞‡ßÅ‡¶™‡¶ø')) return IndiaKB.currency;
  if(q.includes('languages') || q.includes('‡¶≠‡¶æ‡¶∑‡¶æ') || q.includes('‡§≠‡§æ‡§∑‡§æ')) return IndiaKB.languages;
  if(q.includes('independence') || q.includes('‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶®‡¶§‡¶æ') || q.includes('‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞‡§§‡§æ')) return IndiaKB.independence;
  if(q.includes('constitution') || q.includes('‡¶∏‡¶Ç‡¶¨‡¶ø‡¶ß‡¶æ‡¶®') || q.includes('‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§®')) return IndiaKB.constitution;
  if(q.includes('population') || q.includes('‡¶ú‡¶®‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ') || q.includes('‡§ú‡§®‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ')) return IndiaKB.population_note;
  if(q.includes('it') || q.includes('software') || q.includes('‡¶Ü‡¶á‡¶ü‡¶ø') || q.includes('‡§á‡§®‡•ç‡§´‡•ã')) return IndiaKB.it_industry;
  if(q.includes('education') || q.includes('‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ') || q.includes('‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§≤‡§Ø')) return IndiaKB.education;
  if(q.includes('famous') || q.includes('‡¶™‡ßç‡¶∞‡¶∏‡¶ø‡¶¶‡ßç‡¶ß') || q.includes('‡§™‡•ç‡§∞‡§∏‡§ø‡§¶‡•ç‡§ß') || q.includes('‡¶®‡¶æ‡¶Æ‡ßá‡¶∞')) return IndiaKB.famous_people;
  if(q.includes('geography') || q.includes('‡¶≠‡ßÇ‡¶ó‡ßã‡¶≤') || q.includes('‡§≠‡•Ç‡§ó‡•ã‡§≤')) return IndiaKB.geography;
  if(q.includes('government') || q.includes('‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞') || q.includes('‡§∏‡§∞‡§ï‡§æ‡§∞')) return IndiaKB.government;
  if(q.includes('culture') || q.includes('‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡ßÉ‡¶§‡¶ø') || q.includes('‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§‡§ø')) return IndiaKB.culture;
  if(q.includes('economy') || q.includes('‡¶Ö‡¶∞‡ßç‡¶•‡¶®‡ßÄ‡¶§‡¶ø') || q.includes('‡§Ö‡§∞‡•ç‡§•‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ')) return IndiaKB.economy;
  if(q.includes('tourism') || q.includes('‡¶™‡¶∞‡ßç‡¶Ø‡¶ü‡¶®') || q.includes('‡§™‡§∞‡•ç‡§Ø‡§ü‡§®')) return IndiaKB.tourism;
  if(q.includes('sports') || q.includes('‡¶ñ‡ßá‡¶≤‡¶æ') || q.includes('‡§ñ‡•á‡§≤')) return IndiaKB.sports;
  if(q.includes('transport') || q.includes('‡¶™‡¶∞‡¶ø‡¶¨‡¶π‡¶®') || q.includes('‡§™‡§∞‡§ø‡§µ‡§π‡§®')) return IndiaKB.transport;
  if(q.includes('flag') || q.includes('‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º ‡¶™‡¶§‡¶æ‡¶ï‡¶æ') || q.includes('‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§ß‡•ç‡§µ‡§ú')) return IndiaKB.flag;
  if(q.includes('about india') || q.includes('‡¶≠‡¶æ‡¶∞‡¶§') || q.includes('‡§≠‡§æ‡§∞‡§§') || q.includes('about bharat') || q.includes('‡§≠‡§æ‡§∞‡§§ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç')) return IndiaKB.india_overview;
  return null;
}

// Wikipedia ‡¶•‡ßá‡¶ï‡ßá ‡¶§‡¶•‡ßç‡¶Ø ‡¶Ü‡¶®‡¶§‡ßá proxy ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞
async function fetchWiki(query, lang='en'){
  try{
    const wikiLang = (lang==='hi') ? 'hi' : (lang==='bn' ? 'bn' : 'en');
    const wikiUrl = `https://${wikiLang}.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(query)}`;
    const proxy = 'https://api.allorigins.win/raw?url=';
    const res = await fetch(proxy + encodeURIComponent(wikiUrl));
    if(!res.ok) return null;
    const data = await res.json();
    return data.extract || null;
  }catch(e){
    return null;
  }
}

async function askQuestion(text){
  if(!text) return;
  append('user', text);
  history.push({role:'user', text});

  // ‡ßß) ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßã
  const local = queryLocalKB(text);
  if(local){
    append('bot', local + "\n\n(‡¶è‡¶á ‡¶§‡¶•‡ßç‡¶Ø ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶ú‡¶æ‡¶®‡¶§‡ßá Wikipedia ‡¶•‡ßá‡¶ï‡ßá ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®‡•§)");
    history.push({role:'assistant', text: local});
    return;
  }

  // ‡ß®) Wikipedia ‡¶•‡ßá‡¶ï‡ßá ‡¶§‡¶•‡ßç‡¶Ø ‡¶Ü‡¶®‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßã
  const lang = detectLang(text);
  let wiki = await fetchWiki(text, lang);
  if(wiki){
    append('bot', wiki);
    history.push({role:'assistant', text: wiki});
    return;
  }

  // ‡ß©) ‡¶´‡¶æ‡¶á‡¶®‡¶æ‡¶≤ fallback
  const lastUser = history.slice().reverse().find(m => m.role==='user' && m.text!==text);
  if(lastUser){
    append('bot', `‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ü‡¶ó‡ßá ‡¶¨‡¶≤‡ßá‡¶õ‡¶ø‡¶≤‡ßá‡¶®: "${lastUser.text}"‡•§ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶è‡¶á ‡¶¨‡¶ø‡¶∑‡ßü‡ßá ‡¶Ü‡¶∞‡¶ì ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶ú‡¶æ‡¶®‡¶§‡ßá ‡¶ö‡¶æ‡¶®?`);
    history.push({role:'assistant', text:`Asked to relate to: ${lastUser.text}`});
  } else {
    append('bot', "‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§, ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶®‡ßã ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
    history.push({role:'assistant', text:"Fallback message"});
  }
}

askBtn.addEventListener('click', ()=> {
  const val = input.value.trim();
  if(val) {
    askQuestion(val);
    input.value = '';
    input.focus();
  }
});

input.addEventListener('keydown', (e) => {
  if(e.key === 'Enter') {
    const val = input.value.trim();
    if(val){
      askQuestion(val);
      input.value = '';
    }
  }
});

// ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú
append('bot', "‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ! ‡¶Ü‡¶Æ‡¶ø India Knowledge Assistant -- ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø, ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶ì ‡¶π‡¶ø‡¶®‡ßç‡¶¶‡¶ø/‡¶π‡¶ø‡¶Ç‡¶≤‡¶ø‡¶∂ ‡¶≠‡¶æ‡¶∑‡¶æ‡ßü ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§\n‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: '‡¶∞‡¶æ‡¶ú‡¶ß‡¶æ‡¶®‡ßÄ ‡¶ï‡¶ø?', 'Tell me about Taj Mahal', '‡§≠‡§æ‡§∞‡§§ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§¨‡§§‡§æ‡§ì'‡•§");
</script>
</body>
</html><script>async function askQuestion(text){  
  if(!text) return;  
  append('user', text);  
  history.push({role:'user', text});  
  
  // ‡ßß) ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßã  
  const local = queryLocalKB(text);  
  if(local){  
    append('bot', local + "\n\n(‡¶è‡¶á ‡¶§‡¶•‡ßç‡¶Ø ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶ú‡¶æ‡¶®‡¶§‡ßá Wikipedia ‡¶•‡ßá‡¶ï‡ßá ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®‡•§)");  
    history.push({role:'assistant', text: local});  
    return;  
  }  
  
  // ‡ß®) Wikipedia ‡¶•‡ßá‡¶ï‡ßá ‡¶§‡¶•‡ßç‡¶Ø ‡¶Ü‡¶®‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßã  
  const lang = detectLang(text);  
  let wiki = await fetchWiki(text, lang);  
  if(wiki){  
    append('bot', wiki);  
    history.push({role:'assistant', text: wiki});  
    return;  
  }  
  
  // ‡ß©) ‡¶´‡¶æ‡¶á‡¶®‡¶æ‡¶≤ fallback -- ‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡¶æ‡ßú‡¶æ‡¶¨‡¶æ‡ßú‡¶ø ‡¶¨‡¶æ ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶ï‡¶•‡¶æ ‡¶ò‡ßÅ‡¶∞‡¶ø‡ßü‡ßá ‡¶¨‡¶≤‡¶¨‡ßá ‡¶®‡¶æ, ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶¨‡¶≤‡¶¨‡ßá ‡¶®‡¶æ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶ó‡¶ø‡ßü‡ßá‡¶õ‡ßá  
  append('bot', "‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§, ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶®‡ßã ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");  
  history.push({role:'assistant', text:"Fallback message"});  
}</script>